extends layout.pug

block content
  h1.text-center= name

  if images
    div.row.images

      mixin img(file)
        div.lazy.recipeLink(style=('background-image: url("/images/' + file + '");'))

      case images.length
        when 1
          div.col-md-6.offset-md-3.recipeLinkDiv(style=('max-height: 450px;'))
            +img(images[0])
        when 2
          div.col-md-4.offset-md-2.recipeLinkDiv(style=('max-height: 350px;'))
            +img(images[0])
          div.col-md-4.recipeLinkDiv(style=('max-height: 350px;'))
            +img(images[1])
        when 3
          each image in images
            div.col-md-4.recipeLinkDiv(style=('max-height: 350px;'))
              +img(image)

  div.row
    div.col-md-4.justify-content-center.grow.animate#ingredients
      a(onclick="fadeOutIngredients()")
        h2.text-center Zutaten
      div.h-100.o-hidden#inglist
        ul.list-unstyled
          each ingredient in ingredients
            li(class= ingredient.id + " ingredient min-w")= (ingredient.amount ? ingredient.amount + " " : "") + ingredient.name
        if portions
          h5= portions

    div.col-sm-12.col-md-1.d-none.animate#ingredients-vert.vert
      a(onclick="fadeInIngredients()")
        h2.text-center Zutaten

    div.col-sm-12.col-md-8.shrink.animate#preparation
      h2 Zubereitung
      each step in preparation
        p!= step
    div.col-md-11.shrink.d-none.animate#preparation-amounts
      h2 Zubereitung
      each step in preparationAmounts
        p!= step
